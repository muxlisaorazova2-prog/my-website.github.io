<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio | AI Projects</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --primary: #38bdf8; --bg: #f0f4f8; --card-bg: #ffffff; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg); margin: 0; padding: 0; color: #333; }
        
        .navbar { background: #333; padding: 15px; text-align: center; position: sticky; top: 0; z-index: 100; }
        .navbar a { color: white; text-decoration: none; margin: 0 15px; font-size: 14px; opacity: 0.8; }
        
        .container { max-width: 900px; margin: 20px auto; padding: 10px; }
        
        .section-card { background: var(--card-bg); border-radius: 30px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); text-align: center; }
        
        .profile-img { width: 120px; height: 120px; border-radius: 50%; border: 5px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        h1 { margin: 10px 0; font-size: 24px; color: #2d3748; }
        .subtitle { color: var(--primary); font-weight: bold; margin-bottom: 20px; display: block; }

        /* AI Loyihalar dizayni (Rasmga moslab) */
        .ai-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
        .ai-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 20px; transition: 0.3s; }
        .ai-card h3 { margin-top: 0; font-size: 16px; }
        .ai-card p { font-size: 12px; opacity: 0.9; height: 40px; }

        .btn-view { background: white; color: #764ba2; border: none; padding: 10px 20px; border-radius: 25px; font-weight: bold; cursor: pointer; margin-top: 15px; transition: 0.2s; text-decoration: none; display: inline-block; }
        .btn-view:hover { transform: scale(1.05); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }

        /* Modal dizayni (Loyihani ko'rish oynasi) */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 1000; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .modal-content { background: white; padding: 30px; border-radius: 30px; width: 90%; max-width: 450px; text-align: center; position: relative; }
        .close-modal { position: absolute; top: 15px; right: 20px; font-size: 30px; cursor: pointer; color: #666; }
        #webcam-container { width: 250px; height: 250px; border: 5px solid var(--primary); border-radius: 20px; margin: 20px auto; overflow: hidden; background: #000; }
        #label-container { margin-top: 20px; text-align: left; max-height: 150px; overflow-y: auto; }

        /* Bilimlar darajasi (Progress bar) */
        .skill-box { text-align: left; margin-bottom: 15px; }
        .skill-info { display: flex; justify-content: space-between; font-weight: bold; font-size: 14px; }
        .bar { background: #edf2f7; height: 10px; border-radius: 5px; margin-top: 5px; position: relative; }
        .progress { background: #5a67d8; height: 100%; border-radius: 5px; }
    </style>
</head>
<body>

<div class="navbar">
    <a href="#">Bosh sahifa</a>
    <a href="#">Men haqimda</a>
    <a href="#">Qobiliyatlar</a>
    <a href="#">Mening dunyoim</a>
    <a href="#">Aloqa</a>
</div>

<div class="container">
    <div class="section-card">
        <img src="https://via.placeholder.com/120" class="profile-img" alt="Profil">
        <h1>Boymirzayeva Sitora Otabekovna</h1>
        <span class="subtitle">IT Talaba & Kreativ Dasturchi</span>
        <p style="font-size: 14px; color: #718096; line-height: 1.6;">Qarshi Davlat Universiteti (Matematika va kompiyuter ilmlari fakulteti). Maqsad: Kelajakda kuchli Senior Full-stack dasturchi bo'lish.</p>
    </div><div class="section-card">
        <h2 style="border-bottom: 2px solid #5a67d8; display: inline-block; padding-bottom: 5px;">MENING AI LOYIHAM</h2>
        <div class="ai-grid">
            <div class="ai-card">
                <h3>Laylaklar dataseti</h3>
                <p>Ushbu loyiha kameraga ko'rsatilgan laylak turlarini AI yordamida aniqlaydi.</p>
                <button class="btn-view" onclick="openAI('Laylak Scanner', 'https://teachablemachine.withgoogle.com/models/SHYWKBmfo/')">Loyihani ko'rish →</button>
            </div>
            <div class="ai-card" style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);">
                <h3>Kitoblar dataseti</h3>
                <p>Kitoblar muqovasini aniqlash va turkumlashtirish uchun mo'ljallangan AI loyihasi.</p>
                <button class="btn-view" onclick="openAI('Kitob Scanner', 'https://teachablemachine.withgoogle.com/models/SIZNING_KITOBLAR_LINKINGIZ/')">Loyihani ko'rish →</button>
            </div>
        </div>
    </div>

    <div class="section-card">
        <h2>BILIMLAR DARAJASI</h2>
        <div class="skill-box">
            <div class="skill-info"><span>HTML / CSS / JS</span> <span>95%</span></div>
            <div class="bar"><div class="progress" style="width: 95%;"></div></div>
        </div>
        <div class="skill-box">
            <div class="skill-info"><span>AI & Data Science</span> <span>85%</span></div>
            <div class="bar"><div class="progress" style="width: 85%;"></div></div>
        </div>
    </div>
</div>

<div id="aiModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeModal()">&times;</span>
        <h2 id="modalTitle" style="color: #2d3748;">AI Scanner</h2>
        <div id="webcam-container"></div>
        <div id="label-container"></div>
        <button id="startBtn" class="btn-view" style="background: #5a67d8; color: white; width: 100%;">Kamerani yoqish</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>

<script>
    let model, webcam, labelContainer, maxPredictions, animationId;
    let currentURL = "";

    // OYNANI OCHISH
    function openAI(title, url) {
        document.getElementById("aiModal").style.display = "flex";
        document.getElementById("modalTitle").innerText = title;
        currentURL = url;
        
        // Oldingi natijalarni tozalash
        document.getElementById("webcam-container").innerHTML = "";
        document.getElementById("label-container").innerHTML = "";
        
        const startBtn = document.getElementById("startBtn");
        startBtn.style.display = "block";
        startBtn.onclick = initAI;
    }

    // OYNANI YOPISH
    function closeModal() {
        document.getElementById("aiModal").style.display = "none";
        if (webcam) { 
            webcam.stop(); 
        }
        cancelAnimationFrame(animationId);
    }

    // AI ISHGA TUSHIRISH
    async function initAI() {
        const btn = document.getElementById("startBtn");
        btn.innerHTML = "Yuklanmoqda...";
        btn.disabled = true;

        try {
            model = await tmImage.load(currentURL + "model.json", currentURL + "metadata.json");
            maxPredictions = model.getTotalClasses();

            webcam = new tmImage.Webcam(250, 250, true);
            await webcam.setup();
            await webcam.play();
            animationId = window.requestAnimationFrame(loop);

            document.getElementById("webcam-container").appendChild(webcam.canvas);
            labelContainer = document.getElementById("label-container");
            for (let i = 0; i < maxPredictions; i++) {labelContainer.appendChild(document.createElement("div"));
            }
            btn.style.display = "none";
            btn.disabled = false;
        } catch (e) {
            alert("Xatolik: Kamera yoki Model yuklanmadi!");
            btn.innerHTML = "Qayta urinish";
            btn.disabled = false;
        }
    }

    async function loop() {
        webcam.update();
        await predict();
        animationId = window.requestAnimationFrame(loop);
    }

    async function predict() {
        const prediction = await model.predict(webcam.canvas);
        for (let i = 0; i < maxPredictions; i++) {
            const percentage = (prediction[i].probability * 100).toFixed(0);
            labelContainer.childNodes[i].innerHTML = 
                <div style="margin-bottom: 10px;">
                    <div style="display:flex; justify-content:space-between; font-size:12px; font-weight:bold;">
                        <span>${prediction[i].className}</span>
                        <span>${percentage}%</span>
                    </div>
                    <div style="background:#edf2f7; height:6px; border-radius:3px; margin-top:3px;">
                        <div style="background:#5a67d8; width:${percentage}%; height:100%; border-radius:3px; transition:0.3s;"></div>
                    </div>
                </div>;
        }
    }
</script>

</body>
</html>
